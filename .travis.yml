language: objective-c
os:
- linux
- osx
sudo: false
branches:
  except:
  - /^v[0-9]/
env:
  matrix:
  - TRAVIS_NODE_VERSION="4.1"
  - TRAVIS_NODE_VERSION="4.2"
  - TRAVIS_NODE_VERSION="stable"
cache:
  directories:
  - node_modules
before_script:
- rm -rf ~/.nvm && git clone https://github.com/creationix/nvm.git ~/.nvm && (cd ~/.nvm
  && git checkout `git describe --abbrev=0 --tags`) && source ~/.nvm/nvm.sh && nvm
  install $TRAVIS_NODE_VERSION
- npm install -g npm
- npm install
- git config --global user.email "travis-ci-build@volusion.com"
- git config --global user.name "Travis CI Build"
script:
- node --version
- npm --version
- if [ -n "TRAVIS_TAG" ]; then npm run ci-build-stable; else npm run ci-build; fi
notifications:
  slack:
    secure: vZOvx4CND+qpj+hhR84VY5BFUkhHWLSpFn8ApkTQytGb1ekeDNe6hErZqlZqsYVRWF1BZuaQC0j9kV8Qm/5hCiTJpQGs/Oq66fSq37Zq4pyXo9etEPUTR46wAWnaGjQp1mkjB4WyWhCDthYPE9WXP+GpT+oaB8rp9RavcgDZtkaIPRm7LNB/NRCifrkQugXz9sWVvVp6WEUw6MElry/5+YX7bpZ1HLXNDt0bCLWfWaWjrts8OtgizDId9AqiDnbcsRhSWnRLtMygqYu71Fn7Cgsrrb2f3QI7ye/8L0Xa7FLB3m9x66WJc3q/bwYyXjOtM68oKk3IaNq2HGDPLVI5qAKOWSGbB3oTNRToRjmHvg6/SEx0Aijy54g9dMU71I7w2D92wM9FjRAse/gCfq26BuhugNjuRWfYJ5mMX9+vUOVfg3qoEWPGSf7cdtFquk9DrqjqiN/77zeOwcUuNkrvsbU1OHEBIvkGGv7yvLyCwOALlBcUfMBI6rRaR83IKml6ppeOSdQDDOIOVUwkMaa63RH0C9si7dS+z6EP8WHZRCfMj8ueXAM78cm7CSQSnu3Mhvmw3Jm8iLbwg/W4HoR4ZI5xV7GS1BMYuTRrXa6J7IMP92GxvZiU5XXFlDgErbHaQNNEpcCElweLivGiWy8WLisJOVpn633fiIjd5azxGtI=
